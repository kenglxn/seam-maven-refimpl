<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link rel="stylesheet" href="../styles/blueprint/screen.css" type="text/css" media="screen, projection" />
<link rel="stylesheet" href="../styles/blueprint/print.css" type="text/css" media="print" />

<!--[if IE]>
<link rel="stylesheet" href="../styles/blueprint/ie.css" type="text/css" media="screen, projection" />
<![endif]-->

<link rel="stylesheet" href="../styles/page-layout/page-layout.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../styles/site/site.css" type="text/css" media="screen" />
<title>Seam Maven reference Implentation - Eclipse</title>
</head>
<body>

<div id="sizer">
<div id="expander">
<div id="page-wrapper">
<div id="header">
<div class="header">
  <h1>Eclipse and JBoss Tools</h1>
</div>
</div> 
<div id="page">
    
<p>Denne tutorialen er ikke helt ferdig. Må beskrive stegene som er nødvendige for å benytte JBoss Tools. 
  Screenshots må endres siden jeg har fjernet JAR pom'en. Vise steps for å opprette en entitetklasse
  med autogenerert CRUD UI-grensesnitt. Vise steps for reverse engeneering med autogenerert UI.
</p>

<p>This tutorial explains how to use the Eclipse IDE and JBoss Tools for development.</p>

<h2>Shortcuts</h2>
<p>The shortcuts are listed here so we don't have to type the tedious file 
  paths over and over again in this document.</p>
<ul>
  <li><code>${JBOSS_HOME}</code>  - refers to Jboss installation folder, e.g. C:\servers\jboss-4.2.3.GA</li>
  <li><code>${JBOSS_CONFIG}</code> - refers to the configuration directory e.g. C:\servers\jboss-4.2.3.GA\default
  <li><code>${JBOSS_DEPLOY}</code> - refers to the JBoss deploy folder, e.g. C:\servers\jboss-4.2.3.GA\default\deploy</li>
  <li><code>${PROJECT}</code> - the project root folder, i.e. seam-maven-refimpl</li>
  <li><code>${SEAM_REFIMPL}</code> - the folder where the reference project, i.e. seam-refimpl, is installed on your computer</li>
  <li><code>${SEAM_TUTORIAL}</code> - the folder where the tutorial project, i.e. seam-tutorial, is installed on your computer</li>
</ul>

<h2>Download and install software:</h2>
<ul>
  <li><a href="http://www.eclipse.org/">Eclipse Ganymede 3.4 (with WTP installed)</a></li>
  <li><a href="http://maven.apache.org/download.html">Maven 2.0.9</a> or later.<br/>
    <strong>Note:</strong> Do not use Maven 2.1.0, it has a serious bug, see the 
    <code>${PROJECT}/doc/maven-2.1.0-bug</code> folder for an explanation.<br/>
    A Maven-2.2.0 release candidate can be found 
    <a href="https://repository.apache.org/content/repositories/maven-staging-010/org/apache/maven/apache-maven/2.2.0-RC2/">
    here</a>.
  </li>
  <li><a href="http://m2eclipse.codehaus.org/">Eclipse Maven plugin</a></li>
  <li><a href="http://subclipse.tigris.org/">SubClipse-1.6.x, Team Provider plug-in providing support for Subversion within the Eclipse IDE</a></li>
  <li><a href="http://www.jboss.org/tools">JBoss Tools 3</a></li>
  <li><a href="http://www.jboss.org/jbossas/">Jboss 4.2.3.GA Application Server</a></li>
</ul>

<h2>Use the <code>seam-refimpl</code> Project as a Template for Your Own Project</h2>
<p>To import a mavenized project to Eclipse (i.e. a project that is already installed on your computer), 
  follow these steps:
</p>
<ol>
  <li><a href="01-gettingstarted.html#use-as-template">Follow steps here</a> to set up the project.</li>
  <li><a href="01-gettingstarted.html#switch-to-development-mode">Switch to developmentmode</a></li>
  <li>Install <a href="http://m2eclipse.codehaus.org/">Eclipse Maven plugin</a> if you haven't done so yet.</li>
  <li>Copy <code>${SEAM_TUTORIAL}/config/profiles/profiles.xml</code> to <code>${SEAM_TUTORIAL}</code></li>
  <li>Create a workspace folder, e.g. C:/seam-workspace<br/>
    <strong>Note:</strong> Do not use your project folder, ${SEAM_TUTORIAL}, as a workspace folder.</li>
  <li>Open profiles.xml and point the <code>env.eclipse.workspace</code> property to the newly 
    created folder, 
    <br/>e.g. 
    <code>&lt;env.eclipse.workspace&gt;C:/seam-workspace&lt;/env.eclipse.workspace&gt;</code>
  </li>
  <li>Navigate to the ${SEAM_TUTORIAL} folder using a command shell and execute maven commands:<br/>
    <code>mvn clean install<br/>
    mvn eclipse:configure-workspace<br/>
    mvn eclipse:m2eclipse</code><br/> 
    The last Maven command will generate the Eclipse <code>.project</code> and <code>.classpath</code> 
    files that now makes the project a valid Eclipse project.<br/>
    <strong>Note:</strong> Do not use the <code>eclipse:eclipse</code> command, it does not work 
    properly when m2eclipse is installed.
  </li>
  <li>Open Eclipse and select to the newly created workspace folder.
    <img src="img/eclipse-workspace-launcher.png" style="width:500px; display:block;" />
  </li>
  <li>
    Configure Eclipse to use an external Maven installation.
    <img src="img/eclipse-maven-installations.png" style="width:700px; display:block;" />
  </li>
  <li>
    Import project:
    <img src="img/eclipse-import.png" style="width:250px; display:block;" /><br/>
    <img src="img/eclipse-import-maven-01.png" style="width:400px; display:block;" /><br/>
    <img src="img/eclipse-import-maven-02.png" style="width:500px; display:block;" /><br/>
  </li>
  <li>
    Modify Run Configurations:<br/>
    According to 
    <a href="http://www-02.imixs.com:8081/roller/ralphsjavablog/entry/eclipse_maven_install_from_runas">
    this blog</a> there is a problem with running <code>mvn install</code> from eclipse. 
    <a href="http://www-02.imixs.com:8081/roller/ralphsjavablog/entry/eclipse_maven_install_from_runas">
    Read the blog</a> and follow screenshots here to fix the problem.
    <img src="img/eclipse-run-configurations.png" style="width:640px; display:block;" />
    <img src="img/eclipse-run-configurations-02.png" style="width:640px; display:block;" />
    <img src="img/eclipse-run-configurations-03.png" style="width:640px; display:block;" />
    <img src="img/eclipse-run-configurations-04.png" style="width:640px; display:block;" />
    Run the <code>clean install -Pexplode</code> Run Configurations to deploy the project to the 
    server the first time. In <code>profiles.xml</code>: remember to point the server to the correct 
    deploy folder.
  </li>
  <li>
    Install JBoss Tools if you haven't done so already.
  </li>
  <li>Create a WTP server reference (that references the installed JBoss application server), the
    <a href="http://seamframework.org/Documentation">JBoss Seam documentation</a> explains how to 
    Create a WTP server reference
  </li>
</ol>





<div style="display:none;">
<h2>Import Maven project to Eclipse</h2>
<ol>
  <li>
    If the SubClipse plugin is  configured corretly and the project was previously checked out from 
    <strong>svn</strong> (using tortoise or a similar tool), then the project should already be under 
    revision control inside Eclipse. If the project does not apear to be under revision control then 
    select all <strong>seam-refimpl</strong> projects, rightclick and select <code>Team &gt; Share Project...</code>
    to get the project under revision control.
    <img src="img/eclipse-import-maven-03.png" style="width:250px; display:block;" /><br/>
  </li>
  <li>Right click on the configured JBoss Server and select <strong>Add and Remove Projects...</strong>
    <img src="img/eclipse-import-maven-04.png" style="width:450px; display:block;" /><br/>
  </li>
  <li>Select the <strong>seam-refimpl-ear</strong> project and click <strong>Add</strong>
    <img src="img/eclipse-import-maven-05.png" style="width:450px; display:block;" /><br/>
  </li>
  <li>Start the server</strong>
    <img src="img/eclipse-import-maven-06.png" style="width:300px; display:block;" /><br/>
  </li>
  <li>Open a browser and enter the URL <a href="http://localhost:8080/seam-refimpl">http://localhost:8080/seam-refimpl</a></li>
</ol>

<h2>Checkout a Maven project to Eclipse from SCM</h2>
<ol>
  <li>Select <strong>File &gt; New &gt; Other...</strong>
    <img src="img/eclipse-scm-maven-01.png" style="width:400px; display:block;" /><br/>
  </li>
  <li>Select <strong>Checkout Maven Projects from SCM</strong></strong>
    <img src="img/eclipse-scm-maven-02.png" style="width:450px; display:block;" /><br/>
    <img src="img/eclipse-scm-maven-03.png" style="width:450px; display:block;" /><br/>
    <img src="img/eclipse-scm-maven-04.png" style="width:450px; display:block;" /><br/>
    <img src="img/eclipse-scm-maven-05.png" style="width:750px; display:block;" /><br/>
  </li>
  <li>Exit eclipse, navigate to the project folder using a command shell and execute Maven command:
     <code>mvn eclipse:m2eclipse</code><br/>
     This command will generate the Eclipse .project and .classpath files that now makes the project 
     a valid Eclipse project. Startup eclipse and import this project into your Eclipse workspace using 
     the File > Import > Existing Project action.
     <strong>Note:</strong> <code>mvn eclipse:eclipse</code> does not work!<br/>
     <strong>Note ii:</strong> Maybe this step is redundant?
  </li>
  <li>Open Eclipse again and right click on the configured JBoss Server and select <strong>Add and Remove Projects...</strong>
    <img src="img/eclipse-import-maven-04.png" style="width:450px; display:block;" /><br/>
  </li>
  <li>Select the <strong>seam-refimpl-ear</strong> project and click <strong>Add</strong>
    <img src="img/eclipse-import-maven-05.png" style="width:450px; display:block;" /><br/>
  </li>
  <li>Start the server</strong>
    <img src="img/eclipse-import-maven-06.png" style="width:300px; display:block;" /><br/>
  </li>
  <li>
    Open a command shell and run <code>mvn clean package -Pexplode</code><br/>
    This is <strong>IMPORTANT</strong> because JBoss Tools clutters up the exploded view.
  </li>
  <li>
    The exploded view on your <code>${JBOSS_DEPLOY}</code> folder should look like this:
    <img src="img/exploded-ear.png" style="width:700px; display:block;" /><br/>
  </li>
  <li>Open a browser and enter the URL <a href="http://localhost:8080/seam-refimpl">http://localhost:8080/seam-refimpl</a><br/>
    After logging in, your welcome screen should look like this:
    <img src="img/seam-refimpl-welcome.png" style="width:650px; display:block;" /><br/>
  </li>
</ol>


<h3>m2eclipse issues</h3>
<p>There is a problem with running <code>mvn install</code> from eclipse, see: 
  <a href="http://www-02.imixs.com:8081/roller/ralphsjavablog/entry/eclipse_maven_install_from_runas">
  http://www-02.imixs.com:8081/roller/ralphsjavablog/entry/eclipse_maven_install_from_runas</a>
</p>
</div>

</div> <!-- #page -->
</div> <!-- #page-wrapper -->
<div id="footer">  
  <div class="footer">
  <ul class="links" style="text-align: center;">
    <li><a href="01-gettingstarted.html"><strong>Getting started</strong> tutorial</a></li>
    <li><a href="02-eclipse.html"><strong>Eclipse</strong> tutorial</a></li>
    <li><a href="03-intellij.html"><strong>IntelliJ</strong> tutorial</a></li>
    <li><a href="04-netbeans.html"><strong>NetBeans</strong> tutorial</a></li>
  </ul>
  </div>
</div> <!-- #footer -->
</div> <!-- #expander -->
</div> <!-- #sizer -->
</body>
</html>
